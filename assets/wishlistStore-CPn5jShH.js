import{t as e}from"./react-BcTN3v1I.js";import{a as t}from"./useUser-CzEk3LV1.js";var n=`ekomart_wishlist_`;function r(e){return e?`${n}${e}`:null}function i(e){let t=r(e);if(!t)return[];try{let e=localStorage.getItem(t);if(!e)return[];let n=JSON.parse(e);return Array.isArray(n)?n:[]}catch{return[]}}function a(e,t){let n=r(e);if(n)try{localStorage.setItem(n,JSON.stringify(t))}catch{}}const o=e((e,n)=>({currentUserId:null,items:[],setCurrentUser:t=>{let n=i(t??null);e({currentUserId:t??null,items:n})},addItem:t=>{n().currentUserId&&e(e=>{if(e.items.some(e=>e.id===t.id))return e;let n=[...e.items,{...t}];return a(e.currentUserId,n),{items:n}})},removeItem:t=>{n().currentUserId&&e(e=>{let n=e.items.filter(e=>e.id!==t);return a(e.currentUserId,n),{items:n}})},hasItem:e=>n().items.some(t=>t.id===e),toggleItem:t=>{n().currentUserId&&e(e=>{let n=e.items.some(e=>e.id===t.id)?e.items.filter(e=>e.id!==t.id):[...e.items,{...t}];return a(e.currentUserId,n),{items:n}})},moveToCart:e=>{let r=n();if(!r.currentUserId)return;let i=r.items.find(t=>t.id===e);i&&(t.getState().addItem(i,1),r.removeItem(e))}})),s=e=>e.items.length;export{o as n,s as t};